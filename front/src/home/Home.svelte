<script lang="ts">

  import { Link } from "svelte-routing";
  import Main from "../layout/Main.svelte";
  import { fly } from "svelte/transition";
  import { updatePathname } from "../services/store/layout";
  import { canRecover } from "../services/recovery/recovery";

  updatePathname();
  let recoverableGameId;

  canRecover().then(gameId => recoverableGameId = gameId);

</script>

<Main>
    <div slot="main" class="home">
        <div class="upper">
            <Link to="/new-game">Nouvelle partie</Link>
            {#if recoverableGameId }
                <Link to="/game/{recoverableGameId.toString(36)}">Reprendre la partie</Link>
            {/if}
        </div>
        <hr/>
        <section class="last-change-section">
            <h1 class="last-change-title">Derniers changements</h1>
            <div class="articles">
                <article>
                    <h2>
                        <time datetime="2022-07-09">09 / 07 / 2022</time>&nbsp;|&nbsp;version 0.0.9
                    </h2>
                    <ul>
                        <li><span class="list-icon">ğŸ’¡</span>Nouvelle favicon.</li>
                        <li><span class="list-icon">ğŸ</span> Correction d'un bug d'affichage qui faisait apparaÃ®tre des ascenseurs inutiles.</li>
                        <li><span class="list-icon">ğŸ</span> Correction d'un bug d'affichage qui faisait empÃªcher de consulter correctement les images sÃ©lectionnÃ©es.</li>
                    </ul>
                </article>
                <hr/>
                <article>
                    <h2>
                        <time datetime="2022-07-08">08 / 07 / 2022</time>&nbsp;|&nbsp;version 0.0.8
                    </h2>
                    <ul>
                        <li><span class="list-icon">âœ¨</span>Nouvelles actions "like" et "tÃ©lÃ©charger" sur les images.</li>
                        <li><span class="list-icon">âœ¨</span>Nouvelle action "Reprendre la partie" sur la page d'accueil si la derniÃ¨re partie est encore en cours.</li>
                        <li><span class="list-icon">ğŸ’¡</span>Gestion des dÃ©connexions / reconnexions prolongÃ©es (fermeture de l'onglet / rafraÃ®chissement).</li>
                        <li><span class="list-icon">ğŸ’¡</span>Le nom de l'auteur d'une image est dÃ©sormais un hyperlien vers son profil.</li>
                        <li><span class="list-icon">ğŸš€</span>Demande envoyÃ©e Ã  Unsplash pour passage en production.</li>
                    </ul>
                </article>
                <hr/>
                <article>
                    <h2>
                        <time datetime="2022-07-06">06 / 07 / 2022</time>&nbsp;|&nbsp;version 0.0.7
                    </h2>
                    <ul>
                        <li><span class="list-icon">âœ¨</span> Responsive. Pikt.ink est dÃ©sormais utilisable sur tablette et smartphone.</li>
                    </ul>
                </article>
                <hr/>
                <article>
                    <h2>
                        <time datetime="2022-07-05">05 / 07 / 2022</time>&nbsp;|&nbsp;version 0.0.6
                    </h2>
                    <ul>
                        <li><span class="list-icon">âœ¨</span> Badge Website Carbon Calculator !</li>
                        <li><span class="list-icon">ğŸ’¡</span> Gestion des dÃ©connexions / reconnexions fortuites.</li>
                        <li><span class="list-icon">âŒ</span> Suppression de la fonctionnalitÃ© "PrÃªt / Pas PrÃªt" dans la salle d'attente :
                            pas assez intuitive en l'Ã©tat.
                        </li>
                    </ul>
                </article>
                <hr/>
                <article>
                    <h2>
                        <time datetime="2022-07-04">04 / 07 / 2022</time>&nbsp;|&nbsp;version 0.0.5
                    </h2>
                    <ul>
                        <li><span class="list-icon">ğŸ</span> Correction d'un bug qui faisait crasher l'application lorsque le dernier
                            utilisateur quittait une partie dans certains conditions.
                        </li>
                        <li><span class="list-icon">ğŸ</span> Correction d'un bug qui empÃªcher d'afficher un ascenseur sur la page
                            d'accueil.
                        </li>
                    </ul>
                </article>
                <hr/>
                <article>
                    <h2>
                        <time datetime="2022-07-01">01 / 07 / 2022</time>&nbsp;|&nbsp;version 0.0.4
                    </h2>
                    <ul>
                        <li><span class="list-icon">âœ¨</span> Refonte graphique.</li>
                        <li><span class="list-icon">âœ¨</span> Les utilisateurs ont dÃ©sormais des couleurs alÃ©atoires dans le chat.</li>
                        <li><span class="list-icon">ğŸ’¡</span> Obtention des certificats HTTPS.</li>
                        <li><span class="list-icon">ğŸ’¡</span> Images selectionnÃ©es plus grandes.</li>
                        <li><span class="list-icon">ğŸ’¡</span> Le mot secret est dÃ©sormais affichÃ© Ã  la fin d'un round.</li>
                        <li><span class="list-icon">ğŸ</span> Correction d'un bug qui empÃªchait le tchat de descendre lors de l'arrivÃ©e de
                            nouveaux messages sur Firefox.
                        </li>
                    </ul>
                </article>
                <hr/>
                <article>
                    <h2>
                        <time datetime="2022-06-30">30 / 06 / 2022</time>&nbsp;|&nbsp;version 0.0.3
                    </h2>
                    <ul>
                        <li><span class="list-icon">âœ¨</span> Le joueur solo peut cliquer sur image pour la mettre en valeur.</li>
                        <li><span class="list-icon">âœ¨</span> Les autres joueurs peuvent cliquer sur une image pour l'agrandir.</li>
                        <li><span class="list-icon">ğŸ’¡</span> Mise en place d'un reverse proxy sur le port 80.</li>
                        <li><span class="list-icon">ğŸ’¡</span> Renommage: "Pikt.ink".</li>
                        <li><span class="list-icon">ğŸ’¡</span> Changement dans le calcul des scores.</li>
                    </ul>
                </article>
                <hr/>
                <article>
                    <h2>
                        <time datetime="2022-06-29">29 / 06 / 2022</time>&nbsp;|&nbsp;version 0.0.2
                    </h2>
                    <ul>
                        <li><span class="list-icon">ğŸ</span> Correction du bouton "PrÃªt" dans la salle d'attente.</li>
                        <li><span class="list-icon">ğŸ’¡</span> Retrait de l'icÃ´ne "Copier le lien" lorsque le
                            <pre class="inline">clipboard</pre>
                            n'est pas accessible.
                        </li>
                        <li><span class="list-icon">ğŸ’¡</span> Corrections orthographiques.</li>
                        <li><span class="list-icon">ğŸš€</span> Optimisation de la requÃªte de rÃ©cupÃ©ration d'images alÃ©atoires. Il est
                            dÃ©sormais possible de rÃ©cupÃ©rer 1500 images / heure.
                        </li>
                    </ul>
                </article>
            </div>
        </section>
    </div>
</Main>

<style>
    .home {
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        font-size: 2.5em;
        padding-bottom: 1rem;
        padding-left: 1rem;
    }

    .upper {
        display: flex;
        width: 100%;
        align-items: center;
        justify-content: center;
        gap: 2em;
    }

    .last-change-section {
        display: flex;
        flex-direction: column;
        font-size: 1rem;
    }

    .last-change-section hr {
        border-width: 10px;
        width: auto;
        margin-top: 1em;
    }

    .articles {
        display: flex;
        flex-direction: column;
        margin-top: 1em;
        padding-right: 1em;
    }

    .list-icon {
        display: inline-block;
        width: 2em;
        text-align: center;
    }
</style>

